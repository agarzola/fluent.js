!function(r){"use strict";function e(r){var e,n,t={};for(e in r){if(!r.hasOwnProperty(e))return;n=r[e],t[e]=Array.isArray(n)?n:[n]}return t}function n(r,n,t){function i(r,e,n){var t=0;a[r].forEach(function(){t<n.length&&e.push(n[t++])})}function u(){function r(){i(o[e],t,arguments);var a={},f=o[++e];return f?(a[f]=r,a):n.apply(u,t)}var e=0,t=[],u=this;return r.apply(u,arguments)}var a=e(r),o=Object.keys(a);if(!o.length)throw new Error("At least one segment is required");if(!n)throw new Error("Parameter handler is required");return t&&Object.defineProperty(t,o[0],{enumerable:!1,configurable:!0,writable:!0,value:u}),u}r.fluent=n}(this);